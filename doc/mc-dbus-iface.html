<html>
<head>
<title>MissionControl</title>
<style type="text/css">
.interface:before {
  content: "Interface ";
}
.interface {
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1em;
  font-size: 1.6em;
  background: #ccf;
}
.methods:before {
  content: "Methods";
  font-size: 1.5em;
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1em;
  background: #ccf;
  display: block;
}
.signals:before {
  content: "Signals";
  font-size: 1.5em;
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1em;
  background: #ccf;
  display: block;
}
.method H3, .signal H3 {
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1em;
  font-size: 1.3em;
  background: #ccf;
}
.parameters:before {
  content: "Parameters:";
  display: block;
  padding-bottom: 0.5em;
}
.parameters, .return {
  padding: 1em;
}
.return:before {
  content: "Return value(s):";
  display: block;
  padding-bottom: 0.5em;
}
.enum {
  display: block;
  font-family: monospace;
  padding-left: 1cm;
}
.enum P {
  padding: 0;
  margin: 0;
  padding-left: 1em;
  font-family: serif;
}
</style>
</head>
<body>
<h1>Mission Control specifications</h1>
<div class="interface">com.nokia.chavo.mission_control</div>
<p>This is the DBus interface used by mission-control.

<div class="methods">

<div class="method">
<h3>SetPresence ( i: presence, s: message ) -> None </h3>
<p>Request a presence
<div class="parameters">
presence - any of the following values:
<div class="enum">
0 - MC_PRESENCE_UNSET<br>
1 - MC_PRESENCE_OFFLINE<br>
2 - MC_PRESENCE_AVAILABLE<br>
3 - MC_PRESENCE_AWAY<br>
4 - MC_PRESENCE_EXTENDED_AWAY<br>
5 - MC_PRESENCE_HIDDEN<br>
6 - MC_PRESENCE_DO_NOT_DISTURB<br>
</div>
message - NULL or a message string to specify along with the presence (typically with away presence).
</div>
</div>

<div class="method">
<h3>GetPresence ( ) -> i </h3>
<p>Get the last requested presence.
</div>

<div class="method">
<h3>GetPresenceActual ( ) -> i </h3>
<p>Get the current presence (which could be different from the last requested presence).
</div>

<div class="method">
<h3>RequestChannel ( s: account_name, s: type, u: handle, i: handle_type ) -> None </h3>
<p>Request a channel for a given numeric handle.</p>
<div class="parameters">
account_name - the name of the account requesting the channel<br>
type - a D-Bus interface name representing base channel type<br>
handle - an integer handle representing a contact, room or list<br>
handle_type - an integer representing the handle type<br>
</div>
</div>

<div class="method">
<h3>RequestChannelWithStringHandle ( s: account_name, s: type, s: handle, i: handle_type ) -> None </h3>
<p>Request a channel for a given string handle.</p>
<div class="parameters">
account_name - the name of the account requesting the channel<br>
type - a D-Bus interface name representing base channel type<br>
handle - a string representing a contact, room or list<br>
handle_type - an integer representing the handle type<br>
</div>
</div>

<div class="method">
<h3>CancelChannelRequest ( u: operation_id ) -> None </h3>
<p>Cancel a channel request; if the channel has already been created, it will be destroyed.</p>
<div class="parameters">
operation_id - the unique id of the channel request operation. (<em>this is the <code>serial</code> parameter of the RequestChannelWithStringHandle call &mdash; specs are going to change soon, though</em>)<br>
</div>
</div>

<div class="method">
<h3>ConnectAllWithDefaultPresence ( ) -> None </h3>
<p>Connect all accounts with the default online presence.
</div>

<div class="method">
<h3>GetConnectionStatus ( s: account_name ) -> u </h3>
<p>Get the connection status for the specified account.</p>
<div class="parameters">
account_name - the account to retrieve the status from<br>
</div>
<div class="return">
A unsigned integer as defined in Telepathy:
<div class="enum">
0 - CONNECTION_STATUS_CONNECTED<br>
1 - CONNECTION_STATUS_CONNECTING<br>
2 - CONNECTION_STATUS_DISCONNECTED<br>
</div>
</div>
</div>

<div class="method">
<h3>GetOnlineConnections ( ) -> as </h3>
<p>Get the online connections.</p>
<div class="return">
An array of the names of the online accounts.
</div>
</div>

<div class="method">
<h3>GetConnection ( s: account_name ) -> s, o </h3>
<p>Get the connection status for the specified account.</p>
<div class="parameters">
account_name - the account to retrieve the connection from<br>
</div>
<div class="return">
s: the connection bus name<br>
o: the connection object path
</div>
</div>

<div class="method">
<h3>GetAccountForConnection ( s: object_path ) -> s </h3>
<p>Get the connection's account.</p>
<div class="parameters">
object_path - the connection's object path<br>
</div>
<div class="return">
s: the account name<br>
</div>
</div>

<div class="method">
<h3>GetUsedChannelsCount ( s: type ) -> u </h3>
<p>Get the number of channels of the specified type.</p>
<div class="parameters">
type - the channel type<br>
</div>
<div class="return">
u: the number of existing channels of this type<br>
</div>
</div>

</div>

<div class="signals">

<div class="signal">
<h3>AccountStatusChanged ( u: status, u: presence, u: reason, s: account_id )</h3>
<p>Emitted when the status of some account changes.
<div class="parameters">
status - the connection status of the account<br>
presence - the presence status of the account</br>
reason - the reason why the status change happened. Can be any of the following:
<div class="enum">
0 - TP_CONN_STATUS_REASON_NONE_SPECIFIED<br>
1 - TP_CONN_STATUS_REASON_REQUESTED<br>
2 - TP_CONN_STATUS_REASON_NETWORK_ERROR<br>
3 - TP_CONN_STATUS_REASON_AUTHENTICATION_FAILED<br>
4 - TP_CONN_STATUS_REASON_ENCRYPTION_ERROR<br>
5 - TP_CONN_STATUS_REASON_NAME_IN_USE<br>
6 - TP_CONN_STATUS_REASON_CERT_NOT_PROVIDED<br>
7 - TP_CONN_STATUS_REASON_CERT_UNTRUSTED<br>
8 - TP_CONN_STATUS_REASON_CERT_EXPIRED<br>
9 - TP_CONN_STATUS_REASON_CERT_NOT_ACTIVATED<br>
10 - TP_CONN_STATUS_REASON_CERT_HOSTNAME_MISMATCH<br>
11 - TP_CONN_STATUS_REASON_CERT_FINGERPRINT_MISMATCH<br>
12 - TP_CONN_STATUS_REASON_CERT_SELF_SIGNED<br>
13 - TP_CONN_STATUS_REASON_CERT_OTHER_ERROR
</div>
account_id - the account whose status has changed
</div>
</div>

<div class="signal">
<h3>McdError ( u: serial, s: client_id, u: error_id )</h3>
<p>Emitted on some error.
<div class="parameters">
serial - <em>operation ID, maybe it will get removed from the specs soon</em><br>
client_id - the d-bus unique name of the client whose this error is meant to</br>
error_id - the error code:
<div class="enum">
0 - MC_DISCONNECTED_ERROR<br>
1 - MC_INVALID_HANDLE_ERROR<br>
2 - MC_NO_MATCHING_CONNECTION_ERROR<br>
3 - MC_INVALID_ACCOUNT_ERROR<br>
4 - MC_PRESENCE_FAILURE_ERROR<br>
5 - MC_NO_ACCOUNTS_ERROR<br>
6 - MC_NETWORK_ERROR<br>
7 - MC_CONTACT_DOES_NOT_SUPPORT_VOICE_ERROR<br>
8 - MC_LOWMEM_ERROR<br>
9 - MC_CHANNEL_REQUEST_GENERIC_ERROR<br>
10 - MC_CHANNEL_BANNED_ERROR<br>
11 - MC_CHANNEL_FULL_ERROR<br>
12 - MC_CHANNEL_INVITE_ONLY_ERROR<br>
13 - MC_LAST_ERROR
</div>
</div>
</div>

<div class="signal">
<h3>PresenceStatusRequested ( u: presence )</h3>
<p>Emitted when a presence has been requested.
<div class="parameters">
presence - the requested presence.
</div>
</div>

<div class="signal">
<h3>PresenceStatusActual ( u: presence )</h3>
<p>Emitted when the actual presence changes.
<div class="parameters">
presence - the actual presence.
</div>
</div>

<div class="signal">
<h3>UsedChannelsCountChanged ( s: type, u: count )</h3>
<p>Emitted when the actual presence changes.
<div class="parameters">
type - the type of the channels<br>
count - the new number of the channels of this type
</div>
</div>

<div class="signal">
<h3>StatusActual ( u: status, u: presence )</h3>
<p>Emitted when the accounts' status changes.
<div class="parameters">
status - Can be one of these values:<br>
<div class="enum">
0 - MC_STATUS_DISCONNECTED
<p>When all accounts are disconnected.</p>
1 - MC_STATUS_CONNECTING
<p>When at least one account is connecting.</p>
2 - MC_STATUS_CONNECTED
<p>When at least one account is connected <em>and</em> none is connecting.</p>
</div>
presence - the last requested presence.
</div>
</div>

</div>

</body>
</html>
