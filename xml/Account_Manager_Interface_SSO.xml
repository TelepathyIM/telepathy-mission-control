<?xml version="1.0"?>
<node name="/Account_Manager_Interface_SSO"
      xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <tp:copyright>Copyright © 2010 Nokia Corporation</tp:copyright>
  <tp:copyright>Copyright © 2010 Collabora Ltd</tp:copyright>
  <tp:license xmlns="http://www.w3.org/1999/xhtml">
    <p>
      This library is free software; you can redistribute it and/or
      modify it under the terms of the GNU Lesser General Public
      License as published by the Free Software Foundation; either
      version 2.1 of the License, or (at your option) any later version.
    </p>
    <p>
      This library is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
      Lesser General Public License for more details.
    </p>
    <p>
      You should have received a copy of the GNU Lesser General Public License
      along with this library; if not, write to the Free Software Foundation,
      Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
    </p>
  </tp:license>

  <interface name="com.nokia.Telepathy.AccountManager.Interface.SSO">
    <tp:requires interface="org.freedesktop.Telepathy.AccountManager"/>
    <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
      <p>
        The Sso interface provides methods to list Maemo SSO accounts
        and find accounts by their Maemo SSO ID.
      </p>
    </tp:docstring>

    <method name="GetServiceAccounts"
            tp:name-for-bindings="Get_Service_Accounts">
      <tp:docstring xmlns="http://www.w3c.org/1999/xhtml">
        <p>List all accounts which match the service parameter</p>
      </tp:docstring>

      <arg direction="in" name="Service" type="s">
        <tp:docstring>
          <p>The name of the SSO service which this account should match</p>
        </tp:docstring>
      </arg>

      <arg direction="out" name="Accounts" type="ao">
        <tp:docstring>A list of accounts which match the service</tp:docstring>
      </arg>
    </method>

    <method name="GetAccount" tp:name-for-bindings="Get_Account">
      <tp:docstring xmlns="http://www.w3c.org/1999/xhtml">
        <p>Find an account by its SSO ID</p>
      </tp:docstring>

      <arg direction="in" name="ID" type="u">
        <tp:docstring><p>SSO Account ID</p></tp:docstring>
      </arg>

      <arg direction="out" name="Account" type="o">
        <tp:docstring>The account that matches the service</tp:docstring>
      </arg>

      <tp:possible-errors>
        <tp:error name="org.freedesktop.Telepathy.Error.DoesNotExist">
          <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
            <p>The supplied SSO ID does not correspond to a known account</p>
          </tp:docstring>
        </tp:error>
      </tp:possible-errors>
    </method>

  </interface>
</node>

